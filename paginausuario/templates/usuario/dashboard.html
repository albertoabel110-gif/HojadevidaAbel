{% extends 'az.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}

<style>
  :root{
    --ink:#111827;
    --muted:#6b7280;
    --soft:hwb(214 79% 1%);
    
    /* azul corporativo */
    --btn-bg:#e3ecfb;
    --btn-border:#2563eb;
    --btn-text:#1e3a8a;
    --btn-hover-bg:#d6e4fa;
    --btn-hover-border:#1d4ed8;
    --btn-hover-text:#1e40af;
  }

  .page-hero{
    background: linear-gradient(180deg, rgba(17,24,39,.04) 0%, rgba(17,24,39,0) 100%);
    border: 1px solid rgba(17,24,39,.08);
    border-radius: 18px;
    padding: 18px 18px;
  }

  .tile{
    border: 1px solid rgba(17,24,39,.08);
    border-radius: 18px;
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    overflow: hidden;
  }
  .tile:hover{
    transform: translateY(-2px);
    box-shadow: 0 14px 34px rgba(17,24,39,.10);
    border-color: rgba(17,24,39,.14);
  }

  .tile .card-body{
    padding: 18px;
  }

  /* iconos de las tarjetas */
  .tile-icon{
    width: 46px;
    height: 46px;
    border-radius: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(17,24,39,.06);
    color: var(--ink);
    font-size: 20px;
    flex: 0 0 auto;
  }

  /* BOTÓN AZUL PROFESIONAL */
  .btn-soft-blue{
    background: var(--btn-bg);
    border: 1px solid var(--btn-border);
    color: var(--btn-text);
    font-weight: 600;
    border-radius: 12px;
    padding: .48rem .9rem;
    transition: .15s ease-in-out;
  }
  .btn-soft-blue:hover{
    background: var(--btn-hover-bg);
    border-color: var(--btn-hover-border);
    color: var(--btn-hover-text);
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(37,99,235,.22);
  }

  .tile small{ color: var(--muted); }

  .pill{
    border-radius: 999px;
    padding: .35rem .65rem;
    font-weight: 600;
  }

  .cta-card{
    background: linear-gradient(90deg, rgba(34,197,94,.10) 0%, rgba(245,158,11,.10) 100%);
    border: 1px solid rgba(17,24,39,.08);
    border-radius: 18px;
  }

  .action-row{
    gap: .5rem;
  }

  @media (max-width: 768px){
    .action-row{ width:100%; }
  }
</style>

<!-- HERO -->
<div class="page-hero mb-4">
  <div class="d-flex flex-wrap justify-content-between align-items-center gap-3">
    <div>
      <div class="text-muted small mb-1">
        <i class="bi bi-house-door me-1"></i> Panel / Perfil
      </div>
      <h2 class="mb-1" style="color:var(--ink);">Mi Perfil Profesional</h2>
      <div class="text-muted">Información completa sobre mi formación y experiencia.</div>
    </div>

    <div class="d-flex align-items-center gap-2">
      {% if request.user.is_authenticated and request.user.is_staff %}
        <span class="badge text-bg-dark pill">
          <i class="bi bi-shield-lock me-1"></i>  Administrador
        </span>
      {% else %}
        <span class="badge text-bg-secondary pill">
          <i class="bi bi-eye me-1"></i>  Público
        </span>
      {% endif %}

      </a>
    </div>
  </div>
</div>

<div class="row g-4">

  {% if cfg.mostrar_datos_personales %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-person"></i></div>
          <div>
            <h5 class="mb-0">Datos Personales</h5>
            <small>Información básica del perfil</small>
          </div>
        </div>
        <a href="{% url 'lista_personas' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_experiencia %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-briefcase"></i></div>
          <div>
            <h5 class="mb-0">Experiencia Laboral</h5>
            <small>Cargos, empresas y certificados</small>
          </div>
        </div>
        <a href="{% url 'experiencia_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_reconocimientos %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-award"></i></div>
          <div>
            <h5 class="mb-0">Reconocimientos</h5>
            <small>Premios y distinciones</small>
          </div>
        </div>
        <a href="{% url 'reconocimiento_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_cursos %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-journal-text"></i></div>
          <div>
            <h5 class="mb-0">Cursos Realizados</h5>
            <small>Capacitación y certificados</small>
          </div>
        </div>
        <a href="{% url 'curso_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_productos_academicos %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-mortarboard"></i></div>
          <div>
            <h5 class="mb-0">Productos Académicos</h5>
            <small>Recursos y publicaciones</small>
          </div>
        </div>
        <a href="{% url 'productoacademico_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_productos_laborales %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-tools"></i></div>
          <div>
            <h5 class="mb-0">Productos Laborales</h5>
            <small>Trabajos y entregables</small>
          </div>
        </div>
        <a href="{% url 'producto_laboral_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  {% if cfg.mostrar_venta_garage %}
  <div class="col-12 col-md-6 col-lg-4">
    <div class="card tile">
      <div class="card-body">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="tile-icon"><i class="bi bi-cart3"></i></div>
          <div>
            <h5 class="mb-0">Venta de Garage</h5>
            <small>Artículos disponibles</small>
          </div>
        </div>
        <a href="{% url 'ventagarage_list' %}" class="btn-soft-blue w-100">
          <i class="bi bi-arrow-right-circle me-1"></i> Ver
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- CTA FINAL -->
  <div class="col-12">
    <div class="card cta-card">
      <div class="card-body d-flex flex-wrap justify-content-between align-items-center">
        <div class="d-flex align-items-center gap-3">
          <div class="tile-icon"><i class="bi bi-file-earmark-text"></i></div>
          <div>
            <h5 class="mb-0">Generar Hoja de Vida</h5>
            <small>Descargar CV en PDF</small>
          </div>
        </div>

        <div class="d-flex action-row flex-wrap">
          <a href="{% url 'secciones_admin' %}" class="btn btn-warning btn-sm">
            <i class="bi bi-sliders me-1"></i> Secciones
          </a>
          <a href="{% url 'datos_pdf' %}" class="btn btn-success">
            <i class="bi bi-file-earmark-arrow-down me-1"></i> Generar PDF
          </a>
        </div>
      </div>
    </div>
  </div>

</div>

{% endblock %}
